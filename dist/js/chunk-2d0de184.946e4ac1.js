(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0de184"],{"83d7":function(t,a,s){"use strict";s.r(a);var o=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"container pt-3"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-9"},[s("h4",[s("span",{staticClass:"mr-1"},[s("font-awesome-icon",{attrs:{icon:"shopping-cart"}})],1),t._v("購物車明細")]),t.cart.carts?s("table",{staticClass:"table table-sm mt-4"},[t._m(0),s("tbody",t._l(t.cart.carts,(function(a){return s("tr",{key:a.id},[s("td",[s("button",{staticClass:"btn btn-sm btn-outline-primary",on:{click:function(s){return t.rmCartItem(a.id)}}},[s("font-awesome-icon",{attrs:{icon:"trash-alt"}})],1)]),s("td",{staticClass:"d-none d-sm-table-cell"},[s("img",{attrs:{src:a.product.imageUrl,width:"60"}})]),s("td",[t._v(" "+t._s(a.product.title.brand+" "+a.product.title.collection+" "+a.product.title.type)+" "),a.coupon?s("span",{staticClass:"badge badge-discount"},[t._v(t._s(a.coupon.percent+" %"))]):t._e()]),s("td",{staticClass:"d-none d-md-table-cell"},[t._v(t._s(a.product.price))]),s("td",[t._v(" "+t._s(a.qty)+" ")]),s("td",{staticClass:"text-right"},[t._v(t._s(a.final_total.toFixed(1)))])])})),0)]):t._e()]),s("div",{staticClass:"col-md-3"},[s("div",{staticClass:"card mb-3"},[s("div",{staticClass:"card-body"},[s("h5",{staticClass:"card-title bill-title text-center"},[t._v("應付金額")]),s("table",{staticClass:"table table-borderless bill-detail mb-0"},[s("tbody",[s("tr",[s("td",[t._v("總計")]),s("td",[t._v(t._s(t.cart.total))])]),s("tr",[s("td",[t._v("折扣")]),s("td",[t._v(" "+t._s(t.cart.total-t.cart.final_total.toFixed(0))+" ")])])]),s("tfoot",[s("tr",[s("td",[t._v("實付")]),s("td",[t._v(t._s(t.cart.final_total.toFixed(0)))])])])]),s("div",{staticClass:"form-group mb-0 mt-3"},[s("label",{attrs:{for:"coupon"}},[t._v("輸入優惠券")]),s("div",{staticClass:"input-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.couponCode,expression:"couponCode"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:t.couponCode},on:{input:function(a){a.target.composing||(t.couponCode=a.target.value)}}}),s("div",{staticClass:"input-group-append"},[s("button",{staticClass:"btn btn-primary",on:{click:t.applyCoupon}},[t._v("送出")])])])])]),s("div",{staticClass:"card-footer bg-white border-top-0 pt-0"},[s("a",{staticClass:"btn btn-primary w-100",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.toRecipient(a)}}},[t._v("確定結帳")])])])])])])},e=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("thead",[s("tr",[s("th",{attrs:{scope:"col"}}),s("th",{staticClass:"d-none d-sm-table-cell",attrs:{scope:"col"}}),s("th",{attrs:{scope:"col"}},[t._v("名稱")]),s("th",{staticClass:"d-none d-md-table-cell",attrs:{scope:"col"}},[t._v("單價")]),s("th",{attrs:{scope:"col"}},[t._v("#")]),s("th",{staticClass:"text-right",attrs:{scope:"col"}},[t._v("小計")])])])}],c=(s("99af"),s("1157")),i=s.n(c),n={data:function(){return{couponCode:""}},computed:{cart:function(){return this.$store.state.cart}},methods:{toRecipient:function(){this.$store.state.isLogined?this.$router.push("/check/recipient"):i()("#login-modal").modal("show")},applyCoupon:function(){var t={code:this.couponCode},a="".concat("https://vue-course-api.hexschool.io","/api/").concat("mackchen","/coupon"),s=this;this.$store.dispatch("await",!0),this.$http.post(a,{data:t}).then((function(t){s.$store.dispatch("addInfo",{msg:t.data.message,status:t.data.success?"info":"danger",timeStamp:Math.floor(new Date)}),t.data.success&&(s.$store.dispatch("getCart"),s.couponCode=""),s.$store.dispatch("await",!1)}))},rmCartItem:function(t){var a=this;this.$store.dispatch("await",!0),this.$store.dispatch("rmCartItem",t).then((function(){a.$store.dispatch("await",!1)}))}}},r=n,l=s("2877"),d=Object(l["a"])(r,o,e,!1,null,null,null);a["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d0de184.946e4ac1.js.map