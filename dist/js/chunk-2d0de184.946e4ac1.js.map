{"version":3,"sources":["webpack:///./src/views/Check.vue?92bb","webpack:///src/views/Check.vue","webpack:///./src/views/Check.vue?7d81","webpack:///./src/views/Check.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","cart","_m","_l","item","key","id","on","$event","rmCartItem","product","imageUrl","_s","title","coupon","_e","price","qty","final_total","toFixed","total","directives","name","rawName","value","expression","domProps","target","composing","couponCode","applyCoupon","preventDefault","toRecipient","staticRenderFns","data","computed","$store","state","methods","isLogined","$router","push","dispatch","$http","post","API","vm","msg","response","message","status","success","timeStamp","Math","floor","Date","prodId","then","component"],"mappings":"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","file":"js/chunk-2d0de184.946e4ac1.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container pt-3\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-9\"},[_c('h4',[_c('span',{staticClass:\"mr-1\"},[_c('font-awesome-icon',{attrs:{\"icon\":\"shopping-cart\"}})],1),_vm._v(\"購物車明細\")]),(_vm.cart.carts)?_c('table',{staticClass:\"table table-sm mt-4\"},[_vm._m(0),_c('tbody',_vm._l((_vm.cart.carts),function(item){return _c('tr',{key:item.id},[_c('td',[_c('button',{staticClass:\"btn btn-sm btn-outline-primary\",on:{\"click\":function($event){return _vm.rmCartItem(item.id)}}},[_c('font-awesome-icon',{attrs:{\"icon\":\"trash-alt\"}})],1)]),_c('td',{staticClass:\"d-none d-sm-table-cell\"},[_c('img',{attrs:{\"src\":item.product.imageUrl,\"width\":\"60\"}})]),_c('td',[_vm._v(\" \"+_vm._s(((item.product.title.brand) + \" \" + (item.product.title.collection) + \" \" + (item.product.title.type)))+\" \"),(item.coupon)?_c('span',{staticClass:\"badge badge-discount\"},[_vm._v(_vm._s(((item.coupon.percent) + \" %\")))]):_vm._e()]),_c('td',{staticClass:\"d-none d-md-table-cell\"},[_vm._v(_vm._s(item.product.price))]),_c('td',[_vm._v(\" \"+_vm._s(item.qty)+\" \")]),_c('td',{staticClass:\"text-right\"},[_vm._v(_vm._s(item.final_total.toFixed(1)))])])}),0)]):_vm._e()]),_c('div',{staticClass:\"col-md-3\"},[_c('div',{staticClass:\"card mb-3\"},[_c('div',{staticClass:\"card-body\"},[_c('h5',{staticClass:\"card-title bill-title text-center\"},[_vm._v(\"應付金額\")]),_c('table',{staticClass:\"table table-borderless bill-detail mb-0\"},[_c('tbody',[_c('tr',[_c('td',[_vm._v(\"總計\")]),_c('td',[_vm._v(_vm._s(_vm.cart.total))])]),_c('tr',[_c('td',[_vm._v(\"折扣\")]),_c('td',[_vm._v(\" \"+_vm._s(_vm.cart.total - _vm.cart.final_total.toFixed(0))+\" \")])])]),_c('tfoot',[_c('tr',[_c('td',[_vm._v(\"實付\")]),_c('td',[_vm._v(_vm._s((_vm.cart.final_total.toFixed(0))))])])])]),_c('div',{staticClass:\"form-group mb-0 mt-3\"},[_c('label',{attrs:{\"for\":\"coupon\"}},[_vm._v(\"輸入優惠券\")]),_c('div',{staticClass:\"input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.couponCode),expression:\"couponCode\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"required\":\"\"},domProps:{\"value\":(_vm.couponCode)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.couponCode=$event.target.value}}}),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-primary\",on:{\"click\":_vm.applyCoupon}},[_vm._v(\"送出\")])])])])]),_c('div',{staticClass:\"card-footer bg-white border-top-0 pt-0\"},[_c('a',{staticClass:\"btn btn-primary w-100\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.toRecipient($event)}}},[_vm._v(\"確定結帳\")])])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',{attrs:{\"scope\":\"col\"}}),_c('th',{staticClass:\"d-none d-sm-table-cell\",attrs:{\"scope\":\"col\"}}),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"名稱\")]),_c('th',{staticClass:\"d-none d-md-table-cell\",attrs:{\"scope\":\"col\"}},[_vm._v(\"單價\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"#\")]),_c('th',{staticClass:\"text-right\",attrs:{\"scope\":\"col\"}},[_vm._v(\"小計\")])])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"container pt-3\">\r\n    <div class=\"row\">\r\n      <div class=\"col-md-9\">\r\n        <h4><span class=\"mr-1\"><font-awesome-icon icon=\"shopping-cart\" /></span>購物車明細</h4>\r\n        <table v-if=\"cart.carts\" class=\"table table-sm mt-4\">\r\n          <thead>\r\n            <tr>\r\n              <th scope=\"col\"></th>\r\n              <th scope=\"col\" class=\"d-none d-sm-table-cell\"></th>\r\n              <th scope=\"col\">名稱</th>\r\n              <th scope=\"col\" class=\"d-none d-md-table-cell\">單價</th>\r\n              <th scope=\"col\">#</th>\r\n              <th scope=\"col\" class=\"text-right\">小計</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr v-for=\"item in cart.carts\" :key=\"item.id\">\r\n              <td><button class=\"btn btn-sm btn-outline-primary\" @click=\"rmCartItem(item.id)\"><font-awesome-icon icon=\"trash-alt\" /></button></td>\r\n              <td class=\"d-none d-sm-table-cell\">\r\n                <img :src=\"item.product.imageUrl\" width=\"60\">\r\n              </td>\r\n              <td>\r\n                {{`${item.product.title.brand} ${item.product.title.collection} ${item.product.title.type}`}}\r\n                <span v-if=\"item.coupon\" class=\"badge badge-discount\">{{`${item.coupon.percent} %`}}</span>\r\n              </td>\r\n              <td class=\"d-none d-md-table-cell\">{{item.product.price}}</td>\r\n              <td>\r\n                {{item.qty}}\r\n              </td>\r\n              <td class=\"text-right\">{{item.final_total.toFixed(1)}}</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      <div class=\"col-md-3\">\r\n        <div class=\"card mb-3\">\r\n          <div class=\"card-body\">\r\n            <h5 class=\"card-title bill-title text-center\">應付金額</h5>\r\n            <table class=\"table table-borderless bill-detail mb-0\">\r\n              <tbody>\r\n                <tr>\r\n                  <td>總計</td>\r\n                  <td>{{cart.total}}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>折扣</td>\r\n                  <td>\r\n                    {{cart.total - cart.final_total.toFixed(0)}}\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n              <tfoot>\r\n                <tr>\r\n                  <td>實付</td>\r\n                  <td>{{(cart.final_total.toFixed(0))}}</td>\r\n                </tr>\r\n              </tfoot>\r\n            </table>\r\n            <div class=\"form-group mb-0 mt-3\">\r\n              <label for=\"coupon\">輸入優惠券</label>\r\n              <div class=\"input-group\">\r\n                <input type=\"text\" class=\"form-control\"  v-model=\"couponCode\" required>\r\n                <div class=\"input-group-append\">\r\n                  <button class=\"btn btn-primary\" @click=\"applyCoupon\">送出</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"card-footer bg-white border-top-0 pt-0\">\r\n            <a href=\"#\" @click.prevent=\"toRecipient\" class=\"btn btn-primary w-100\">確定結帳</a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport $ from 'jquery'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      couponCode: ''\r\n    }\r\n  },\r\n  computed: {\r\n    cart () {\r\n      return this.$store.state.cart\r\n    }\r\n  },\r\n  methods: {\r\n    toRecipient () {\r\n      if (this.$store.state.isLogined) {\r\n        this.$router.push('/check/recipient')\r\n      } else {\r\n        $('#login-modal').modal('show')\r\n      }\r\n    },\r\n    applyCoupon () {\r\n      const COUPON = { code: this.couponCode }\r\n      const API = `${process.env.VUE_APP_API_PATH}/api/${process.env.VUE_APP_CUSTOM_PATH}/coupon`\r\n      const vm = this\r\n      this.$store.dispatch('await', true)\r\n      this.$http.post(API, { data: COUPON }).then(response => {\r\n        vm.$store.dispatch('addInfo', {\r\n          msg: response.data.message,\r\n          status: response.data.success ? 'info' : 'danger',\r\n          timeStamp: Math.floor(new Date())\r\n        })\r\n        if (response.data.success) {\r\n          vm.$store.dispatch('getCart')\r\n          vm.couponCode = ''\r\n        }\r\n        vm.$store.dispatch('await', false)\r\n      })\r\n    },\r\n    rmCartItem (prodId) {\r\n      const vm = this\r\n      this.$store.dispatch('await', true)\r\n      this.$store.dispatch('rmCartItem', prodId).then(() => {\r\n        vm.$store.dispatch('await', false)\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Check.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Check.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Check.vue?vue&type=template&id=0769e8cd&\"\nimport script from \"./Check.vue?vue&type=script&lang=js&\"\nexport * from \"./Check.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}