(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-56821d2e"],{"057f":function(t,e,r){var a=r("fc6a"),s=r("241c").f,n={}.toString,i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],o=function(t){try{return s(t)}catch(e){return i.slice()}};t.exports.f=function(t){return i&&"[object Window]"==n.call(t)?o(t):s(a(t))}},"1c45":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container pt-3"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-7"},[r("h4",[r("span",{staticClass:"mr-1"},[r("font-awesome-icon",{attrs:{icon:"user"}})],1),t._v("收件人資料 ")]),r("p",[t._v("星號（*）部分必填")]),r("validation-observer",{ref:"form",staticClass:"mb-3",attrs:{tag:"form"},on:{reset:t.clearFields,submit:function(e){return e.preventDefault(),t.sendOrder(e)}},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.invalid;return[r("validation-provider",{staticClass:"form-group",attrs:{tag:"div",name:"full name",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.classes,s=e.errors;return[r("label",{attrs:{for:"name"}},[t._v("全名 "),r("span",{staticClass:"text-danger"},[t._v("*")])]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.data.user.name,expression:"data.user.name"}],staticClass:"form-control",class:a,attrs:{type:"text",id:"name",placeholder:"請輸入全名"},domProps:{value:t.data.user.name},on:{input:function(e){e.target.composing||t.$set(t.data.user,"name",e.target.value)}}}),r("div",{staticClass:"invalid-feedback"},[t._v(t._s(s[0]))])]}}],null,!0)}),r("validation-provider",{staticClass:"form-group",attrs:{tag:"div",name:"email",rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.classes,s=e.errors;return[r("label",{attrs:{for:"email"}},[t._v("電子信箱 "),r("span",{staticClass:"text-danger"},[t._v("*")])]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.data.user.email,expression:"data.user.email"}],staticClass:"form-control",class:a,attrs:{type:"email",id:"email",placeholder:"請輸入可聯絡的電子信箱"},domProps:{value:t.data.user.email},on:{input:function(e){e.target.composing||t.$set(t.data.user,"email",e.target.value)}}}),r("div",{staticClass:"invalid-feedback"},[t._v(t._s(s[0]))])]}}],null,!0)}),r("validation-provider",{staticClass:"form-group",attrs:{tag:"div",name:"tel",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.classes,s=e.errors;return[r("label",{attrs:{for:"tel"}},[t._v("電話 "),r("span",{staticClass:"text-danger"},[t._v("*")])]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.data.user.tel,expression:"data.user.tel"}],staticClass:"form-control",class:a,attrs:{type:"tel",id:"tel",placeholder:"請輸入手機或市話"},domProps:{value:t.data.user.tel},on:{input:function(e){e.target.composing||t.$set(t.data.user,"tel",e.target.value)}}}),r("div",{staticClass:"invalid-feedback"},[t._v(t._s(s[0]))])]}}],null,!0)}),r("validation-provider",{staticClass:"form-group",attrs:{tag:"div",name:"address",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.classes,s=e.errors;return[r("label",{attrs:{for:"address"}},[t._v("地址 "),r("span",{staticClass:"text-danger"},[t._v("*")])]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.data.user.address,expression:"data.user.address"}],staticClass:"form-control",class:a,attrs:{type:"text",id:"address",placeholder:"請輸入地址"},domProps:{value:t.data.user.address},on:{input:function(e){e.target.composing||t.$set(t.data.user,"address",e.target.value)}}}),r("div",{staticClass:"invalid-feedback"},[t._v(t._s(s[0]))])]}}],null,!0)}),r("validation-provider",{staticClass:"form-group",attrs:{tag:"div"}},[r("label",{attrs:{for:"message"}},[t._v("留言")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.data.message,expression:"data.message"}],staticClass:"form-control",class:t.classes,attrs:{type:"message",id:"message"},domProps:{value:t.data.message},on:{input:function(e){e.target.composing||t.$set(t.data,"message",e.target.value)}}})]),r("div",{staticClass:"d-flex justify-content-end"},[r("button",{staticClass:"btn btn-outline-dark order-btn",attrs:{type:"reset"}},[t._v("取消")]),r("button",{staticClass:"btn btn-primary ml-2 order-btn",attrs:{type:"submit",disabled:a}},[t._v("確定")])])]}}])})],1),r("div",{staticClass:"col-md-5"},[r("section",{staticClass:"card my-3 my-md-0"},[r("div",{staticClass:"card-header d-flex justify-content-between align-items-center"},[r("span",[t._v("預計購入商品")]),r("span",{staticClass:"text-primary h4"},[t._v(t._s("NT$ "+t.cart.final_total.toFixed(0)))])]),r("div",{staticClass:"card-body"},t._l(t.cart.carts,(function(e){return r("div",{key:e.id,staticClass:"d-flex justify-content-between"},[r("img",{staticClass:"mx-auto",attrs:{src:e.product.imageUrl,alt:"",height:"100"}}),r("div",{staticClass:"d-flex w-50"},[r("table",{staticClass:"table table-sm table-borderless"},[r("tr",[r("td",[t._v("單價")]),r("td",{staticClass:"text-right"},[t._v(t._s(e.product.price))])]),r("tr",[r("td",[t._v("數量")]),r("td",{staticClass:"text-right"},[t._v(" "+t._s(e.qty+" "+e.product.unit)+" ")])]),r("tr",[r("td",[t._v("小計")]),r("td",{staticClass:"text-right"},[t._v(t._s(e.final_total))])])])])])})),0)])])])])},s=[],n=(r("99af"),r("5530")),i=r("7bb1"),o=function(t,e){var r=(void 0===e?{}:e).multiple,a=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return r&&!Array.isArray(t)&&(t=String(t).split(",").map((function(t){return t.trim()}))),Array.isArray(t)?t.every((function(t){return a.test(String(t))})):a.test(String(t))},c=[{name:"multiple",default:!1}],l={validate:o,params:c};function u(t){return null===t||void 0===t}function d(t){return Array.isArray(t)&&0===t.length}var f=function(t,e){var r=(void 0===e?{allowFalse:!0}:e).allowFalse,a={valid:!1,required:!0};return u(t)||d(t)?a:!1!==t||r?(a.valid=!!String(t).trim().length,a):a},p=!0,v=[{name:"allowFalse",default:!0}],m={validate:f,params:v,computesRequired:p},b=r("2f62");Object(i["d"])("required",m),Object(i["d"])("email",l);var g={data:function(){return{data:{user:{name:"",email:"",tel:"",address:""},message:""}}},methods:{clearFields:function(){var t=this;for(var e in t.data.user)t.data.user[e]="";t.$nextTick((function(){t.$refs.form.reset()}))},sendOrder:function(){var t="".concat("https://vue-course-api.hexschool.io","/api/").concat("mackchen","/order"),e=this;e.$store.dispatch("await",!0),e.$http.post(t,{data:e.data}).then((function(t){t.data.success?(e.$store.dispatch("recordOrderId",t.data.orderId),e.$store.dispatch("getCart"),e.$store.dispatch("await",!1),e.$router.push({path:"/check/order/".concat(t.data.orderId)})):(e.$store.dispatch("await",!1),e.$store.dispatch("addInfo",{msg:t.data.message,status:"danger"}))})).catch((function(){e.$store.dispatch("await",!1),e.$store.dispatch("addInfo",{msg:"無法和伺服器連線 (XMLHttpRequest error)",status:"danger"})}))}},computed:Object(n["a"])({cart:function(){return this.$store.state.cart}},Object(b["b"])(["isLogined"])),watch:{isLogined:function(){this.$router.push("/check")}}},h=g,y=r("2877"),w=Object(y["a"])(h,a,s,!1,null,null,null);e["default"]=w.exports},"4de4":function(t,e,r){"use strict";var a=r("23e7"),s=r("b727").filter,n=r("1dde"),i=r("ae40"),o=n("filter"),c=i("filter");a({target:"Array",proto:!0,forced:!o||!c},{filter:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})},5530:function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));r("a4d3"),r("4de4"),r("4160"),r("e439"),r("dbb4"),r("b64b"),r("159b");var a=r("ade3");function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function n(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){Object(a["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}},"746f":function(t,e,r){var a=r("428f"),s=r("5135"),n=r("e538"),i=r("9bf2").f;t.exports=function(t){var e=a.Symbol||(a.Symbol={});s(e,t)||i(e,t,{value:n.f(t)})}},a4d3:function(t,e,r){"use strict";var a=r("23e7"),s=r("da84"),n=r("d066"),i=r("c430"),o=r("83ab"),c=r("4930"),l=r("fdbf"),u=r("d039"),d=r("5135"),f=r("e8b5"),p=r("861d"),v=r("825a"),m=r("7b0b"),b=r("fc6a"),g=r("c04e"),h=r("5c6c"),y=r("7c73"),w=r("df75"),O=r("241c"),_=r("057f"),C=r("7418"),j=r("06cf"),S=r("9bf2"),x=r("d1e7"),P=r("9112"),k=r("6eeb"),$=r("5692"),N=r("f772"),q=r("d012"),A=r("90e3"),D=r("b622"),F=r("e538"),E=r("746f"),I=r("d44e"),J=r("69f3"),T=r("b727").forEach,L=N("hidden"),z="Symbol",R="prototype",Z=D("toPrimitive"),H=J.set,M=J.getterFor(z),Q=Object[R],U=s.Symbol,W=n("JSON","stringify"),X=j.f,B=S.f,G=_.f,K=x.f,V=$("symbols"),Y=$("op-symbols"),tt=$("string-to-symbol-registry"),et=$("symbol-to-string-registry"),rt=$("wks"),at=s.QObject,st=!at||!at[R]||!at[R].findChild,nt=o&&u((function(){return 7!=y(B({},"a",{get:function(){return B(this,"a",{value:7}).a}})).a}))?function(t,e,r){var a=X(Q,e);a&&delete Q[e],B(t,e,r),a&&t!==Q&&B(Q,e,a)}:B,it=function(t,e){var r=V[t]=y(U[R]);return H(r,{type:z,tag:t,description:e}),o||(r.description=e),r},ot=l?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof U},ct=function(t,e,r){t===Q&&ct(Y,e,r),v(t);var a=g(e,!0);return v(r),d(V,a)?(r.enumerable?(d(t,L)&&t[L][a]&&(t[L][a]=!1),r=y(r,{enumerable:h(0,!1)})):(d(t,L)||B(t,L,h(1,{})),t[L][a]=!0),nt(t,a,r)):B(t,a,r)},lt=function(t,e){v(t);var r=b(e),a=w(r).concat(vt(r));return T(a,(function(e){o&&!dt.call(r,e)||ct(t,e,r[e])})),t},ut=function(t,e){return void 0===e?y(t):lt(y(t),e)},dt=function(t){var e=g(t,!0),r=K.call(this,e);return!(this===Q&&d(V,e)&&!d(Y,e))&&(!(r||!d(this,e)||!d(V,e)||d(this,L)&&this[L][e])||r)},ft=function(t,e){var r=b(t),a=g(e,!0);if(r!==Q||!d(V,a)||d(Y,a)){var s=X(r,a);return!s||!d(V,a)||d(r,L)&&r[L][a]||(s.enumerable=!0),s}},pt=function(t){var e=G(b(t)),r=[];return T(e,(function(t){d(V,t)||d(q,t)||r.push(t)})),r},vt=function(t){var e=t===Q,r=G(e?Y:b(t)),a=[];return T(r,(function(t){!d(V,t)||e&&!d(Q,t)||a.push(V[t])})),a};if(c||(U=function(){if(this instanceof U)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=A(t),r=function(t){this===Q&&r.call(Y,t),d(this,L)&&d(this[L],e)&&(this[L][e]=!1),nt(this,e,h(1,t))};return o&&st&&nt(Q,e,{configurable:!0,set:r}),it(e,t)},k(U[R],"toString",(function(){return M(this).tag})),k(U,"withoutSetter",(function(t){return it(A(t),t)})),x.f=dt,S.f=ct,j.f=ft,O.f=_.f=pt,C.f=vt,F.f=function(t){return it(D(t),t)},o&&(B(U[R],"description",{configurable:!0,get:function(){return M(this).description}}),i||k(Q,"propertyIsEnumerable",dt,{unsafe:!0}))),a({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:U}),T(w(rt),(function(t){E(t)})),a({target:z,stat:!0,forced:!c},{for:function(t){var e=String(t);if(d(tt,e))return tt[e];var r=U(e);return tt[e]=r,et[r]=e,r},keyFor:function(t){if(!ot(t))throw TypeError(t+" is not a symbol");if(d(et,t))return et[t]},useSetter:function(){st=!0},useSimple:function(){st=!1}}),a({target:"Object",stat:!0,forced:!c,sham:!o},{create:ut,defineProperty:ct,defineProperties:lt,getOwnPropertyDescriptor:ft}),a({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:pt,getOwnPropertySymbols:vt}),a({target:"Object",stat:!0,forced:u((function(){C.f(1)}))},{getOwnPropertySymbols:function(t){return C.f(m(t))}}),W){var mt=!c||u((function(){var t=U();return"[null]"!=W([t])||"{}"!=W({a:t})||"{}"!=W(Object(t))}));a({target:"JSON",stat:!0,forced:mt},{stringify:function(t,e,r){var a,s=[t],n=1;while(arguments.length>n)s.push(arguments[n++]);if(a=e,(p(e)||void 0!==t)&&!ot(t))return f(e)||(e=function(t,e){if("function"==typeof a&&(e=a.call(this,t,e)),!ot(e))return e}),s[1]=e,W.apply(null,s)}})}U[R][Z]||P(U[R],Z,U[R].valueOf),I(U,z),q[L]=!0},b64b:function(t,e,r){var a=r("23e7"),s=r("7b0b"),n=r("df75"),i=r("d039"),o=i((function(){n(1)}));a({target:"Object",stat:!0,forced:o},{keys:function(t){return n(s(t))}})},dbb4:function(t,e,r){var a=r("23e7"),s=r("83ab"),n=r("56ef"),i=r("fc6a"),o=r("06cf"),c=r("8418");a({target:"Object",stat:!0,sham:!s},{getOwnPropertyDescriptors:function(t){var e,r,a=i(t),s=o.f,l=n(a),u={},d=0;while(l.length>d)r=s(a,e=l[d++]),void 0!==r&&c(u,e,r);return u}})},e439:function(t,e,r){var a=r("23e7"),s=r("d039"),n=r("fc6a"),i=r("06cf").f,o=r("83ab"),c=s((function(){i(1)})),l=!o||c;a({target:"Object",stat:!0,forced:l,sham:!o},{getOwnPropertyDescriptor:function(t,e){return i(n(t),e)}})},e538:function(t,e,r){var a=r("b622");e.f=a}}]);
//# sourceMappingURL=chunk-56821d2e.2a26bcec.js.map